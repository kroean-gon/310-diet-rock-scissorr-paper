// âœ‚ï¸âœŠâœ‹ ê°€ìœ„ë°”ìœ„ë³´ ì„ íƒê°’
const CHOICES = ["scissors", "rock", "paper"];

// âœ… ì‰¬ìš´ ë¯¸ì…˜ (íšŒì›ì´ ì´ê²¼ì„ ë•Œ) â€“ í”Œë ‰ìŠ¤ í—ˆìš© + ì¹¼ë¡œë¦¬ ì¡°ì ˆ ëŠë‚Œ
const easyMissions = [
  "í‰ì†Œ ë¨¹ê³  ì‹¶ì—ˆë˜ ìŒì‹ ë¨¹ê¸° (ì–‘ë§Œ í‰ì†Œì˜ 80%ë¡œ ì¡°ì ˆí•´ì„œ ì¸ì¦í•˜ê¸°)",
  "ë°°ë‹¬ìŒì‹ ì‹œì¼œ ë¨¹ê¸° (ë‹¨ë°±ì§ˆ í¬í•¨ + ê³¼í•œ ì‚¬ì´ë“œ ì—†ì´ ì¸ì¦í•˜ê¸°)",
  "ë¨¹ê³  ì‹¶ë˜ ë¹µ/ë””ì €íŠ¸ ë¨¹ê¸° (ì‹ì‚¬ ëŒ€ì‹  ë˜ëŠ” ìž‘ì€ ì–‘ìœ¼ë¡œ ì¸ì¦í•˜ê¸°)",
  "ì˜¤ëŠ˜ í•œ ë¼ëŠ” ì¢‹ì•„í•˜ëŠ” ë©”ë‰´ë¡œ êµ¬ì„±í•˜ê¸° (ì‚¬ì§„ ì¸ì¦)",
  "ì¹˜í‚¨/í”¼ìž ë“± ë¨¹ê³  ì‹¶ì€ ë©”ë‰´ ë¨¹ê¸° (ì–‘ ì¡°ê¸ˆ ì¤„ì—¬ì„œ ì¸ì¦í•˜ê¸°)",
  "ì™¸ì‹ ë©”ë‰´ ìžìœ  ì„ íƒí•˜ê¸° (íƒ„ìˆ˜+ë‹¨ë°±ì§ˆ+ì±„ì†Œ êµ¬ì„±ì´ ë³´ì´ê²Œ ì¸ì¦í•˜ê¸°)",
  "ì¹´íŽ˜ ê°€ì„œ ë§ˆì‹œê³  ì‹¶ì€ ìŒë£Œ ë§ˆì‹œê¸° (ì‚¬ì´ì¦ˆë§Œ ì ë‹¹ížˆ ì„ íƒí•´ì„œ ì¸ì¦í•˜ê¸°)",
  "ë–¡ë³¶ì´/ë¶„ì‹ ë¨¹ê¸° (1ì¸ë¶„ ì´í•˜ë¡œ ë‚˜ëˆ  ë¨¹ê³  ì¸ì¦í•˜ê¸°)",
  "ë¼ë©´ ë¨¹ê¸° (ì¶”ê°€ë¡œ ë‹¨ë°±ì§ˆ ë˜ëŠ” ì±„ì†Œ í•˜ë‚˜ ê³ë“¤ì—¬ì„œ ì¸ì¦í•˜ê¸°)",
  "ì•¼ì‹ í•œ ë²ˆ í—ˆìš©í•˜ê¸° (ì–‘ë§Œ í‰ì†Œë³´ë‹¤ ì¡°ê¸ˆ ì¤„ì—¬ì„œ ì¸ì¦í•˜ê¸°)",
  "ë°°ë‹¬ ì‹œí‚¤ê³  ì‹¶ì€ ë©”ë‰´ ë§ˆìŒê» ê³ ë¥´ê¸° (ê³¼í•œ ìŒë£ŒÂ·ì‚¬ì´ë“œë§Œ ë¹¼ê³  ì¸ì¦í•˜ê¸°)",
  "ë‹¬ë‹¬í•œ ë””ì €íŠ¸ ë¨¹ê¸° (ë‚˜ì™€ ë””ì €íŠ¸ë§Œ ë³´ì´ê²Œ ì˜ˆì˜ê²Œ ì¸ì¦í•˜ê¸°)",
  "ì˜¤ëŠ˜ì€ ë¨¹ê³  ì‹¶ì€ ë©”ë‰´ ìœ„ì£¼ë¡œ í•œ ë¼ êµ¬ì„±í•´ì„œ ì¸ì¦í•˜ê¸°",
  "ê°€ìž¥ ì¢‹ì•„í•˜ëŠ” íŒ¨ìŠ¤íŠ¸í‘¸ë“œ ë©”ë‰´ ë¨¹ê¸° (ì„¸íŠ¸ ëŒ€ì‹  ë‹¨í’ˆ/ì–‘ ì¡°ì ˆí•´ì„œ ì¸ì¦í•˜ê¸°)",
  "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ â€˜ížë§ì‹ë‹¨â€™ í•œ ë¼ ìžìœ  ì„ íƒí•´ì„œ ì¸ì¦í•˜ê¸°",
  "ë°€í‚¤íŠ¸/ê°„íŽ¸ì‹ íŽ¸í•˜ê²Œ ì„ íƒí•´ì„œ í•œ ë¼ ì¸ì¦í•˜ê¸°",
  "êµ°ê²ƒì§ˆ í•˜ê³  ì‹¶ì„ ë•Œ, ì˜¤ëŠ˜ì€ ë”± í•œ ë²ˆ ì›í•˜ëŠ” ê°„ì‹ ë¨¹ê³  ì¸ì¦í•˜ê¸°",
  "ì¢‹ì•„í•˜ëŠ” ìŒë£Œ+ê°„ì‹ ì¡°í•© í•œ ë²ˆ ì¦ê¸°ê³  ì¸ì¦í•˜ê¸°",
  "ê°€ìž¥ ë¨¹ê³  ì‹¶ì—ˆë˜ ë©”ë‰´ + ë¬¼ 1ì»µ ê°™ì´ ì°ì–´ì„œ ì¸ì¦í•˜ê¸°",
  "ê¸°ë¶„ì „í™˜ìš© ì¹˜íŒ… í•œ ë¼ ì¸ì¦ (ë‚´ê°€ ì„ íƒí•œ ë©”ë‰´ ê·¸ëŒ€ë¡œ ë³´ì—¬ì£¼ê¸°)"
];

// â— ì–´ë ¤ìš´ ë¯¸ì…˜ (íšŒì›ì´ ì¡Œì„ ë•Œ) â€“ ì‚´ì§ ë¹¡ì„¼ ìª½
const hardMissions = [
  "í•˜ë£¨ ë™ì•ˆ ëª¨ë“  ì‹ì‚¬ë¥¼ ìƒëŸ¬ë“œ ë˜ëŠ” ì±„ì†Œ ë§Žì´ ë‹´ê¸´ ì‹ë‹¨ìœ¼ë¡œë§Œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ ì €ë…ì€ ìƒëŸ¬ë“œ í˜¹ì€ ë‹¨ë°±ì§ˆ+ì±„ì†Œ ìœ„ì£¼ ê°€ë³ê²Œ ë¨¹ê³  ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ í•˜ë£¨ â€˜ê³¼ìžÂ·ë¹µÂ·ë””ì €íŠ¸â€™ ì—†ì´ ì‹ë‹¨ë§Œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ í•˜ë£¨ ë°°ë‹¬ìŒì‹Â·ì™¸ì‹ ì—†ì´ ì§‘ë°¥/ì§ì ‘ ì¤€ë¹„í•œ ì‹ë‹¨ë§Œ ì¸ì¦í•˜ê¸°",
  "ì €ë… 7ì‹œ ì´í›„ì—ëŠ” ë¬¼/ì°¨ë§Œ ë§ˆì‹œê³ , ê·¸ ì „ê¹Œì§€ ì‹ë‹¨ë§Œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ í•˜ë£¨ ìŒë£ŒëŠ” ë¬¼/ë¬´ê°€ë‹¹ ì°¨ë§Œ ë§ˆì‹œê³  ì‹ë‹¨ ì¸ì¦í•˜ê¸°",
  "ëª¨ë“  ì‹ì‚¬ì— ì±„ì†Œ 2ê°€ì§€ ì´ìƒ í¬í•¨í•´ì„œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ ë¨¹ì€ ëª¨ë“  ë¼ë‹ˆë¥¼ ë¹ ì§ì—†ì´ ì „ë¶€ ì‚¬ì§„ìœ¼ë¡œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ í•œ ë¼ëŠ” ë°¥/ë¹µ ì–‘ì„ í‰ì†Œì˜ ì ˆë°˜ìœ¼ë¡œ ì¤„ì—¬ì„œ ì¸ì¦í•˜ê¸°",
  "ì˜¤ëŠ˜ ë¨¹ì€ ì‹ë‹¨ í›„, 310 í™”ëª©ì±Œë¦°ì§€ ì¤‘ ì•„ë¬´ê±°ë‚˜ 1ê°œ ë”°ë¼í•˜ê³  ê°™ì´ ì¸ì¦í•˜ê¸°"
];

const rpsTextEl = document.getElementById("rps-text");
const missionTitleEl = document.getElementById("mission-title");
const missionTextEl = document.getElementById("mission-text");
const choiceButtons = Array.from(document.querySelectorAll(".choice"));

function getKoreanChoice(choice) {
  if (choice === "scissors") return "ê°€ìœ„";
  if (choice === "rock") return "ë°”ìœ„";
  return "ë³´";
}

// ê²°ê³¼ íŒì •: 1 = ì´ê¹€, 0 = ë¹„ê¹€, -1 = ì§
function judge(user, ai) {
  if (user === ai) return 0;
  if (
    (user === "scissors" && ai === "paper") ||
    (user === "rock" && ai === "scissors") ||
    (user === "paper" && ai === "rock")
  ) {
    return 1;
  }
  return -1;
}

function pickRandom(arr) {
  const idx = Math.floor(Math.random() * arr.length);
  return arr[idx];
}

function onUserChoice(e) {
  const userChoice = e.currentTarget.getAttribute("data-choice");
  const aiChoice = CHOICES[Math.floor(Math.random() * CHOICES.length)];
  const result = judge(userChoice, aiChoice);

  // ë²„íŠ¼ ì„ íƒ í‘œì‹œ
  choiceButtons.forEach((btn) => btn.classList.remove("selected"));
  e.currentTarget.classList.add("selected");

  const userKo = getKoreanChoice(userChoice);
  const aiKo = getKoreanChoice(aiChoice);

  if (result === 0) {
    // ë¹„ê¹€ â€“ ë¯¸ì…˜ ë³€ê²½ X, í•œ ë²ˆ ë”
    rpsTextEl.textContent = `ë¹„ê²¼ì–´ìš”! (ë‚˜: ${userKo} / ìƒëŒ€: ${aiKo}) í•œ ë²ˆ ë” ëˆŒëŸ¬ì£¼ì„¸ìš”.`;
    missionTitleEl.textContent = "ì˜¤ëŠ˜ì˜ ë¯¸ì…˜";
    missionTextEl.textContent = "ìŠ¹íŒ¨ê°€ ë‚˜ë©´ ê·¸ë•Œ ë¯¸ì…˜ì´ ë‚˜ì˜µë‹ˆë‹¤.";
    return;
  }

  if (result === 1) {
    // ì´ê¹€ â€“ ì‰¬ìš´ ë¯¸ì…˜
    const mission = pickRandom(easyMissions);
    rpsTextEl.textContent = `ìŠ¹ë¦¬! (ë‚˜: ${userKo} / ìƒëŒ€: ${aiKo})`;
    missionTitleEl.textContent = "ðŸŽ‰ ì‰¬ìš´ ë¯¸ì…˜ (í”Œë ‰ìŠ¤ í—ˆìš©)";
    missionTextEl.textContent = mission;
  } else {
    // ì§ â€“ ì–´ë ¤ìš´ ë¯¸ì…˜
    const mission = pickRandom(hardMissions);
    rpsTextEl.textContent = `íŒ¨ë°°â€¦ (ë‚˜: ${userKo} / ìƒëŒ€: ${aiKo})`;
    missionTitleEl.textContent = "ðŸ”¥ ë¹¡ì„¼ ë¯¸ì…˜ (ë„ì „ ëª¨ë“œ)";
    missionTextEl.textContent = mission;
  }
}

// ì´ë²¤íŠ¸ ì—°ê²°
choiceButtons.forEach((btn) => {
  btn.addEventListener("click", onUserChoice);
});
